import asyncioimport jsonimport requestsimport websocketsfrom core.config import LIMITLESS_API, MARKET_IDS# --- REST healthcheck ---def test_rest():    try:        r = requests.get(f"{LIMITLESS_API}/markets/hourly?limit=1", timeout=5)        if r.status_code == 200:            print("[LLMM] REST CONNECT OK")            print("Sample response:", r.json())        else:            print(f"[LLMM] REST CONNECT FAIL (status {r.status_code})")    except Exception as e:        print(f"[LLMM] REST CONNECT ERROR: {e}")# --- WebSocket healthcheck ---async def test_ws():    uri = f"{LIMITLESS_API.replace('https', 'wss')}/markets"    try:        async with websockets.connect(uri, ping_interval=None) as ws:            print("[LLMM] WS CONNECT OK")            # subscribe to one market if available            if MARKET_IDS:                await ws.send(json.dumps({                    "action": "subscribe",                    "channel": "markets",                    "ids": [MARKET_IDS[0]]                }))                msg = await ws.recv()                print("[LLMM] WS SAMPLE EVENT:", msg)            else:                print("[LLMM] WS SUBSCRIBE SKIPPED (no MARKET_IDS in .env)")    except Exception as e:        print(f"[LLMM] WS CONNECT ERROR: {e}")def main():    print("[LLMM] Starting healthcheck...")    test_rest()    asyncio.run(test_ws())    print("[LLMM] Healthcheck complete.")if __name__ == "__main__":    main()